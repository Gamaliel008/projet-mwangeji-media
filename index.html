<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Commune de Manika - Portail Officiel</title>
  <style>
    /* ===== Reset & base ===== */
    :root{--accent:#0b5fd7;--muted:#6b7280;--bg:#f7f9fc;--card:#ffffff}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:#0f1724;background:var(--bg)}
    a{color:var(--accent);text-decoration:none}
    img{max-width:100%;height:auto;display:block}
    .container{max-width:1100px;margin:0 auto;padding:20px}

    /* ===== Header ===== */
    header{background:linear-gradient(90deg, rgba(11,95,215,0.06), rgba(11,95,215,0.02));backdrop-filter:blur(2px);position:sticky;top:0;z-index:50;border-bottom:1px solid rgba(15,23,36,0.04)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 20px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#6c8ef5);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    nav ul{list-style:none;display:flex;gap:14px;margin:0;padding:0}
    nav a{padding:8px 10px;border-radius:8px;font-size:15px}
    nav a:hover{background:rgba(11,95,215,0.08)}
    .cta{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px}

    /* ===== Hero / Slider ===== */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:18px;align-items:center;padding:28px 0}
    .slider{position:relative;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(11,95,215,0.06)}
    .slides{display:flex;transition:transform 0.6s ease}
    .slide{min-width:100%;height:320px;background-size:cover;background-position:center}
    .slide .overlay{padding:20px;background:linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.22));height:100%;display:flex;flex-direction:column;justify-content:flex-end;color:#fff}
    .slider-controls{position:absolute;right:12px;bottom:12px;display:flex;gap:8px}
    .dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.6)}
    .dot.active{background:#fff}

    .announcement-card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.04)}
    .announcement-card h3{margin:0 0 8px 0}
    .ann-list{display:flex;flex-direction:column;gap:8px}
    .ann-item{padding:8px;border-radius:8px;background:linear-gradient(180deg,#fff,#fbfdff);display:flex;justify-content:space-between;align-items:center}

    /* ===== Sections ===== */
    section{margin:24px 0;padding:16px}
    .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.04)}
    h2{margin-top:0}

    /* About */
    .stats{display:flex;gap:12px;flex-wrap:wrap}
    .stat{flex:1;min-width:160px;padding:14px;border-radius:10px;background:linear-gradient(180deg,#fff,#fbfdff);text-align:center}
    .org-chart{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
    .role{padding:12px;border-radius:10px;background:#fff}

    /* Services */
    .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .service{padding:14px;border-radius:10px}
    .download{display:inline-block;margin-top:10px;padding:8px 10px;border-radius:8px;background:rgba(11,95,215,0.08)}

    /* Actualités */
    .news-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
    .news-item{padding:12px;border-radius:10px}

    /* Projects */
    .projects{display:grid;grid-template-columns:2fr 1fr;gap:12px}
    .map-frame{height:260px;border-radius:10px;border:0}

    /* Forms */
    form{display:flex;flex-direction:column;gap:10px}
    input,textarea,select{padding:10px;border-radius:8px;border:1px solid #e6eef8}
    button{padding:10px;border-radius:8px;border:0;background:var(--accent);color:#fff}

    /* Footer */
    footer{padding:24px 0;color:var(--muted);font-size:14px}

    /* Responsive */
    @media(max-width:900px){.hero{grid-template-columns:1fr;}.projects{grid-template-columns:1fr}.nav{padding:10px}}
  </style>
</head>
<body>
  <header>
    <div class="nav container">
      <div class="brand">
        <div class="logo">M</div>
        <div>
          <div style="font-weight:700">Commune de Manika</div>
          <div style="font-size:12px;color:var(--muted)">Portail officiel</div>
        </div>
      </div>
      <nav>
        <ul>
          <li><a href="#accueil">Accueil</a></li>
          <li><a href="#a-propos">À propos</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#actualites">Actualités</a></li>
          <li><a href="#projets">Projets</a></li>
          <li><a href="#participation">Participation</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <div><a class="cta" href="#participation">Soumettre une doléance</a></div>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section id="accueil" class="hero">
      <div>
        <div class="slider card" aria-label="carousel">
          <div class="slides" id="slides">
            <div class="slide" style="background-image:url('https://photos.radiookapi.net/picture/20221116171958079379_20221115_142518.jpg')">
              <div class="overlay"><h2>Bienvenue à Manika</h2><p>Une commune en mouvement — services, propreté, participation citoyenne.</p></div>
            </div>
            <div class="slide" style="background-image:url('https://drcongo.un.org/sites/default/files/styles/featured_content/public/2025-08/phot.jpg')">
              <div class="overlay"><h2>Projets & développement</h2><p>Cartographie des actions locales et soutien aux infrastructures.</p></div>
            </div>
            <div class="slide" style="background-image:url('https://www.researchgate.net/publication/382360780/figure/fig1/AS%3A11431281261057128%401721339077757/Location-map-of-the-Kolwezi-region.jpg')">
              <div class="overlay"><h2>Zone: Kolwezi — Manika</h2><p>Territoire, population et services.</p></div>
            </div>
          </div>
          <div class="slider-controls" id="dots"></div>
        </div>
      </div>

      <aside>
        <div class="announcement-card">
          <h3>Message du Bourgmestre</h3>
          <p style="margin:0 0 8px 0">Chères habitantes, chers habitants — notre priorité est la salubrité et l'accès aux services de base. Engageons-nous ensemble.</p>
          <div style="font-size:13px;color:var(--muted);margin-bottom:10px">— Me. Thierry Sambumba Mujinga</div>

          <h4 style="margin-bottom:8px">Dernières annonces</h4>
          <div class="ann-list" id="announcements">
            <div class="ann-item"><div>Opération d'assainissement — Quartier Fifi</div><div style="font-size:12px;color:var(--muted)">03/06/2025</div></div>
            <div class="ann-item"><div>Ouverture centre communautaire</div><div style="font-size:12px;color:var(--muted)">15/05/2025</div></div>
          </div>
          <div style="margin-top:12px">
            <input id="annText" placeholder="Ajouter annonce rapide..." style="width:100%;padding:8px;border-radius:8px;border:1px solid #e9eefb" />
            <button onclick="addAnnouncement()" style="margin-top:8px">Ajouter</button>
          </div>
        </div>
      </aside>
    </section>

    <!-- A PROPOS -->
    <section id="a-propos" class="card">
      <h2>À propos de la Commune</h2>
      <p>Manika — commune de la ville de Kolwezi, province du Lualaba. Portail conçu pour rapprocher l'administration et les citoyens.</p>

      <div class="stats" style="margin-top:14px">
        <div class="stat"><div style="font-size:18px;font-weight:700">59 km²</div><div style="color:var(--muted);font-size:13px">Surface (approx.)</div></div>
        <div class="stat"><div style="font-size:18px;font-weight:700">~120 000</div><div style="color:var(--muted);font-size:13px">Population (est.)</div></div>
        <div class="stat"><div style="font-size:18px;font-weight:700">Zones</div><div style="color:var(--muted);font-size:13px">Fifi, Lukungu, ...</div></div>
      </div>

      <h3 style="margin-top:18px">Organigramme</h3>
      <div class="org-chart">
        <div class="role">Bourgmestre<br><small style="color:var(--muted)">Me. Thierry S. Mujinga</small></div>
        <div class="role">Secrétaire communal<br><small style="color:var(--muted)">Responsable administratif</small></div>
        <div class="role">Service hygiène & assainissement</div>
        <div class="role">Service urbanisme</div>
      </div>

      <h3 style="margin-top:18px">Vision & Mission</h3>
      <p><strong>Vision :</strong> Une commune propre, sûre et prospère, où la participation citoyenne guide le développement. <br><strong>Mission :</strong> Fournir des services publics accessibles, promouvoir la santé publique, et piloter des projets structurants.</p>
    </section>

    <!-- SERVICES & FORMULAIRES -->
    <section id="services" class="card">
      <h2>Services & Formulaires</h2>
      <p>Téléchargez les formulaires officiels ou soumettez une demande en ligne. Les envois sont simulés localement pour la maquette — à connecter à un back-end ou Firebase par la suite.</p>

      <div class="services-grid" style="margin-top:12px">
        <div class="service card">
          <h4>Hygiène & Assainissement</h4>
          <p>Demande d'enlèvement de déchets, signalement de dépôts sauvages.</p>
          <a class="download" href="#" onclick="downloadSample('assainissement')">Télécharger (PDF)</a>
        </div>
        <div class="service card">
          <h4>Urbanisme</h4>
          <p>Permis de construire, demande d'alignement.</p>
          <a class="download" href="#" onclick="downloadSample('urbanisme')">Télécharger (PDF)</a>
        </div>
        <div class="service card">
          <h4>État civil</h4>
          <p>Demande d'acte, certificats et extraits.</p>
          <a class="download" href="#" onclick="downloadSample('etatcivil')">Télécharger (PDF)</a>
        </div>
      </div>

      <h4 style="margin-top:16px">Dépôt en ligne (simulation)</h4>
      <form id="uploadForm" onsubmit="return handleUpload(event)">
        <label>Type de demande</label>
        <select required name="type">
          <option value="assainissement">Assainissement</option>
          <option value="urbanisme">Urbanisme</option>
          <option value="etatcivil">État civil</option>
        </select>
        <label>Nom complet</label>
        <input required name="name" placeholder="Nom et prénom" />
        <label>Description</label>
        <textarea name="desc" placeholder="Détails..." rows="3"></textarea>
        <label>Joindre un fichier (simulation)</label>
        <input type="file" name="file" />
        <button type="submit">Soumettre la demande</button>
      </form>
      <div id="uploadResult" style="margin-top:10px;color:var(--muted)"></div>
    </section>

    <!-- ACTUALITES -->
    <section id="actualites" class="card">
      <h2>Actualités & Événements</h2>
      <p>Flux local et articles : opérations d'assainissement en cours — source d'information : <a href="https://topinfo.cd" target="_blank">topinfo.cd</a></p>

      <div class="news-grid" style="margin-top:12px">
        <article class="news-item card">
          <h4>Opération d'assainissement lancée</h4>
          <p>Le bourgmestre a lancé une vaste opération d'assainissement. <small style="color:var(--muted)">03 juin 2025</small></p>
          <a href="https://topinfo.cd/2025/06/20/kolwezi-le-bourgmestre-de-manika-thierry-mujinga-agit-pour-une-commune-plus-propre/" target="_blank">Lire la suite</a>
        </article>
        <article class="news-item card">
          <h4>Centre de santé : suivi des travaux</h4>
          <p>Inspection des travaux du centre de santé local. <small style="color:var(--muted)">12 mai 2025</small></p>
          <a href="https://letonnerre.info/kolwezi-commune-de-manika-me-thierry-sambumba-mujinga-a-inspecte-les-travaux-de-construction-du-centre-de-sante-fifi-masuka/" target="_blank">Lire la suite</a>
        </article>
      </div>
    </section>

    <!-- PROJETS -->
    <section id="projets" class="card">
      <h2>Développement & Projets</h2>
      <div class="projects" style="margin-top:12px">
        <div>
          <p>Carte des projets en cours, financement et objectifs. Exemple : construction du centre de santé Fifi Masuka (suivi & impact social).</p>
          <ul>
            <li>Construction centre de santé — financement mixte</li>
            <li>Assainissement quartier Fifi — budget communal</li>
            <li>Réhabilitation voie urbaine — partenariat privé</li>
          </ul>
          <p>Article de suivi : <a href="https://letonnerre.info" target="_blank">letonnerre.info</a></p>
        </div>
        <div>
          <!-- Embedded small map -->
          <iframe class="map-frame" src="https://www.openstreetmap.org/export/embed.html?bbox=25.40%2C-10.77%2C25.53%2C-10.64&amp;layer=mapnik" aria-label="Carte de la commune de Manika"></iframe>
          <div style="font-size:12px;color:var(--muted);margin-top:8px">Source: OpenStreetMap — zone approximative autour de Kolwezi / Manika</div>
        </div>
      </div>
    </section>

    <!-- PARTICIPATION -->
    <section id="participation" class="card">
      <h2>Participation citoyenne</h2>
      <p>Soumettez une doléance, participez à un sondage ou proposez un plan d’action communautaire.</p>
      <form id="doleanceForm" onsubmit="return submitDoleance(event)">
        <input name="nom" placeholder="Votre nom (optionnel)" />
        <input name="tel" placeholder="Téléphone" />
        <select name="type">
          <option value="insalubrite">Insalubrité</option>
          <option value="eau">Eau / Assainissement</option>
          <option value="securite">Sécurité</option>
          <option value="autre">Autre</option>
        </select>
        <textarea name="message" placeholder="Votre doléance" required rows="4"></textarea>
        <button type="submit">Envoyer</button>
      </form>
      <div id="doleanceResult" style="margin-top:10px;color:var(--muted)"></div>

      <h4 style="margin-top:14px">Sondage rapide</h4>
      <div>
        <label>Êtes-vous satisfait de la propreté du quartier ?</label>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button onclick="recordPoll('oui')">Oui</button>
          <button onclick="recordPoll('non')">Non</button>
          <button onclick="recordPoll('moyen')">Moyen</button>
        </div>
        <div id="pollResult" style="margin-top:8px;color:var(--muted)"></div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="card">
      <h2>Contact</h2>
      <p>Adresse mairie : Rue Principale, Commune de Manika — Kolwezi<br>Téléphone : +243 99 722 7819<br>Email : contact@manika.cd (exemple)</p>

      <h4>Écrivez-nous</h4>
      <form id="contactForm" onsubmit="return submitContact(event)">
        <input name="nom" placeholder="Nom" required />
        <input name="email" placeholder="Adresse email" required />
        <textarea name="msg" placeholder="Message" required rows="4"></textarea>
        <button type="submit">Envoyer</button>
      </form>

      <div style="margin-top:12px">
        <iframe class="map-frame" src="https://www.openstreetmap.org/export/embed.html?bbox=25.40%2C-10.77%2C25.53%2C-10.64&amp;layer=mapnik" aria-label="Localisation mairie"></iframe>
      </div>
    </section>

    <footer style="text-align:center;margin-top:18px">
      <div style="color:var(--muted)">© Commune de Manika — Portail de service public. Conçu pour être connecté à un CMS / Firebase.</div>
    </footer>
  </main>

  <script>
    // ===== Slider =====
    const slidesEl = document.getElementById('slides');
    const dotsEl = document.getElementById('dots');
    const slides = Array.from(document.querySelectorAll('.slide'));
    let idx = 0;
    function renderDots(){
      dotsEl.innerHTML = '';
      slides.forEach((s,i)=>{const d=document.createElement('div');d.className='dot'+(i===idx?' active':'');d.onclick=()=>{idx=i;update();};dotsEl.appendChild(d)});
    }
    function update(){
      slidesEl.style.transform = `translateX(-${idx*100}% )`;
      document.querySelectorAll('.dot').forEach((d,i)=>d.classList.toggle('active',i===idx));
    }
    renderDots(); update();
    setInterval(()=>{idx=(idx+1)%slides.length;update()},5000);

    // ===== Announcements (local simulation) =====
    function loadAnnouncements(){
      const key='manika.ann';
      const data=JSON.parse(localStorage.getItem(key)||'[]');
      const el=document.getElementById('announcements');
      el.innerHTML='';
      data.reverse().forEach(a=>{const div=document.createElement('div');div.className='ann-item';div.innerHTML=`<div>${a.text}</div><div style="font-size:12px;color:var(--muted)">${a.date}</div>`;el.appendChild(div)});
    }
    function addAnnouncement(){
      const txt=document.getElementById('annText'); if(!txt.value.trim())return alert('Écrit quelque chose.');
      const key='manika.ann'; const list=JSON.parse(localStorage.getItem(key)||'[]'); list.push({text:txt.value,date:new Date().toLocaleDateString('fr-FR')}); localStorage.setItem(key,JSON.stringify(list)); txt.value=''; loadAnnouncements();
    }
    loadAnnouncements();

    // ===== Sample downloads =====
    function downloadSample(type){
      alert('Téléchargement simulé. Remplacez le lien par votre PDF officiel dans le code. (type='+type+')');
    }

    // ===== Upload simulation =====
    function handleUpload(e){
      e.preventDefault(); const f=new FormData(e.target); const out={type:f.get('type'),name:f.get('name'),desc:f.get('desc'),date:new Date().toISOString()};
      const key='manika.uploads'; const arr=JSON.parse(localStorage.getItem(key)||'[]'); arr.push(out); localStorage.setItem(key,JSON.stringify(arr));
      document.getElementById('uploadResult').textContent='Demande soumise (simulation). Vous pouvez connecter ce formulaire à Firebase ou un back-end.';
      e.target.reset(); return false;
    }

    // ===== Doleance form =====
    function submitDoleance(e){
      e.preventDefault(); const f=new FormData(e.target); const rec={nom:f.get('nom'),tel:f.get('tel'),type:f.get('type'),message:f.get('message'),date:new Date().toISOString()};
      const key='manika.doleances'; const arr=JSON.parse(localStorage.getItem(key)||'[]'); arr.push(rec); localStorage.setItem(key,JSON.stringify(arr));
      document.getElementById('doleanceResult').textContent='Merci, doléance reçue (simulation).'; e.target.reset(); return false;
    }

    // ===== Poll =====
    function recordPoll(v){
      const key='manika.poll'; const p=JSON.parse(localStorage.getItem(key)||'{}'); p[v]=(p[v]||0)+1; localStorage.setItem(key,JSON.stringify(p)); renderPoll();
    }
    function renderPoll(){
      const p=JSON.parse(localStorage.getItem('manika.poll')||'{}'); const total=Object.values(p).reduce((a,b)=>a+b,0) || 0; const el=document.getElementById('pollResult'); if(total===0){el.textContent='Pas encore de votes.';return;} el.innerHTML=Object.entries(p).map(([k,v])=>`${k}: ${v} (${Math.round((v/total)*100)}%)`).join(' | ');
    }
    renderPoll();

    // ===== Contact =====
    function submitContact(e){
      e.preventDefault(); const f=new FormData(e.target); const obj={nom:f.get('nom'),email:f.get('email'),msg:f.get('msg'),date:new Date().toISOString()};
      const key='manika.contact'; const arr=JSON.parse(localStorage.getItem(key)||'[]'); arr.push(obj); localStorage.setItem(key,JSON.stringify(arr));
      document.getElementById('contactForm').reset(); alert('Message reçu (simulation). Pour production, connectez ce formulaire à un serveur ou Firebase.'); return false;
    }

    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click',function(e){e.preventDefault();const id=this.getAttribute('href').slice(1);document.getElementById(id).scrollIntoView({behavior:'smooth',block:'start'});}))
  </script>
</body>
</html>
